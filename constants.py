# Script opcodes, contains also information about number of stack
# parameters and code parameters
# More info: 
# http://wiki.ffrtt.ru/index.php?title=FF7/WorldMap_Module/Script/Opcodes
OPCODES = {
    0x00: ("Dummy", 0, 0, False),
    0x15: ("Neg", 1, 0, False),
    0x17: ("Not", 1, 0, False),
    0x18: ("GetDistanceToPoint", 1, 0, False),
    0x19: ("GetDistanceToModel", 1, 0, False),
    0x1b: ("Unknown1b", 1, 0, False), # Double check
    0x30: ("Multiply", 2, 0, False),
    0x40: ("Add", 2, 0, False),
    0x41: ("Sub", 2, 0, False),
    0x50: ("ShiftLeft", 2, 0, False),
    0x51: ("ShiftRight", 2, 0, False),
    0x60: ("IsLessThan", 2, 0, False),
    0x61: ("IsGreaterThan", 2, 0, False),
    0x62: ("IsLessOrEqualThan", 2, 0, False),
    0x63: ("IsGreaterOrEqualThan", 2, 0, False),
    0x70: ("IsEqual", 2, 0, False),
    0x80: ("And", 2, 0, False),
    0xa0: ("Or", 2, 0, False),
    0xb0: ("BoolAnd", 2, 0, False),
    0xc0: ("BoolOr", 2, 0, False),
    0xe0: ("WriteTo", 2, 0, True),

    0x100: ("ResetStack", 0, 0, False),
    0x110: ("Value", 0, 1, False),
    0x114: ("SavemapBit", 0, 1, False),
    0x117: ("SpecialBit", 0, 1, False),
    0x118: ("SavemapByte", 0, 1, False),
    0x119: ("TempByte", 0, 1, False),
    0x11b: ("SpecialByte", 0, 1, False),
    0x11c: ("SavemapWord", 0, 1, False),
    0x11d: ("TempWord", 0, 1, False),
    0x11f: ("SpecialWord", 0, 1, False),

    0x200: ("GoTo", 0, 1, False),
    0x201: ("If", 1, 1, True),
    0x203: ("Return", 0, 0, False),
    0x204: ("RunModelFunction", 1, 0, True),

    0x300: ("LoadModel", 1, 0, True),
    0x302: ("ThisEntityIsPlayer", 0, 0, False),
    0x303: ("SetEntitySpeed", 1, 0, True),
    0x304: ("SetEntityDirection", 1, 0, True),
    0x305: ("Frames", 1, 0, False),
    0x306: ("Wait", 1, 0, True),
    0x307: ("PlayerControlsEnabled", 1, 0, True),
    0x308: ("SetEntityMeshCoords", 2, 0, True),
    0x309: ("SetEntityCoordsInMesh", 2, 0, True),
    0x30a: ("SetEntityVerticalSpeed", 1, 0, True),
    0x30b: ("SetEntityAltitudeOffset", 1, 0, True),
    0x30c: ("EnterVehicle", 0, 0, True),
    0x30d: ("Unknown30d", 0, 0, False),
    0x30e: ("SetEntityAnimation", 2, 0, True),
    0x310: ("SetActivePoint", 2, 0, True),
    0x311: ("SetPointMeshCoords", 2, 0, True),
    0x312: ("SetPointCoordsInMesh", 2, 0, True),
    0x313: ("SetPointLightColor", 3, 0, True),
    0x314: ("SetPointLightDropoff", 2, 0, True),
    0x315: ("SetSkyColorForPoint", 3, 0, True),
    0x316: ("SetPointColorUnknown", 3, 0, True),
    0x317: ("StartBattle", 1, 0, True),
    0x318: ("EnterFieldLevel", 2, 0, True),
    0x319: ("Unknown319", 1, 0, True),
    0x31b: ("DoNothing", 0, 0, False),
    0x31c: ("Unknown31c", 1, 0, True),
    0x31d: ("PlaySound", 1, 0, True),
    0x31f: ("Unknown31f", 1, 0, True),
    0x320: ("Unknown320", 0, 0, False),
    0x321: ("Unknown321", 1, 0, True),
    0x324: ("SetWindowSize", 4, 0, True),
    0x325: ("SetWindowMessage", 1, 0, True),
    0x326: ("AskQuestion", 4, 0, True),
    0x327: ("WaitForAnswer", 0, 0, False),
    0x328: ("SetEntityMovementDirection", 1, 0, True),
    0x329: ("Unknown329", 1, 0, True),
    0x32a: ("Unknown32a", 1, 0, True),
    0x32b: ("SetRandomEncounters", 1, 0, True),
    0x32c: ("SetWindowParams", 2, 0, True),
    0x32d: ("WaitForWindowReady", 0, 0, False),
    0x32e: ("WaitForWindowDismiss", 0, 0, False),
    0x32f: ("Unknown32f", 1, 0, True),
    0x330: ("SetActiveEntity", 1, 0, True),
    0x331: ("ExitVehicle", 0, 0, False),
    0x332: ("Unknown332", 0, 0, False),
    0x333: ("Unknown333", 2, 0, True),
    0x334: ("Unknown334", 0, 0, False),
    0x336: ("SetEntitySpeedOnWalkmesh", 1, 0, True),
    0x339: ("Unknown339", 0, 0, False),
    0x33a: ("Unknown33a", 1, 0, True),
    0x33b: ("FadeOut", 2, 0, True),
    0x33c: ("SetFieldEntryPoint", 0, 0, False),
    0x33d: ("SetFieldEntryPoint2", 1, 0, True),
    0x33e: ("SoundCommand", 1, 0, True),
    0x347: ("MoveEntityToModel", 1, 0, True),
    0x348: ("FadeIn", 2, 0, True),
    0x349: ("SetWorldmapProgress", 1, 0, True),
    0x34a: ("PlayLayerAnimation", 1, 0, True),
    0x34b: ("SetChocoboType", 1, 0, False),
    0x34c: ("SetSubmarineType", 1, 0, False),
    0x34d: ("ShowAnimationLayer", 3, 0, True),
    0x34e: ("HideAnimationLayer", 1, 0, True),
    0x34f: ("SetEntityAltitude", 1, 0, True),
    0x350: ("ShowMeteor", 1, 0, True),
    0x351: ("SetMusicVolume", 1, 0, True),
    0x352: ("ShakeCamera", 1, 0, True),
    0x353: ("Unknown353", 2, 0, True),
    0x354: ("Unknown354", 1, 0, True),
    0x355: ("Unknown355", 1, 0, True),
}

SAVEMAP_VARS = {
    0xBA4: 'GameProgress',
    0xC21: 'OwnChocoboStable',
    0xC22: 'ChocobosOnMapOnMap',
    0xC23: 'VehicleDisplay',
    0xC1F: 'WeaponsKilled',
    0xD73: 'YuffieFlags',
    0xEF4: 'SubmarineColorFlags',
    0xF2A: 'SubmarineFlags',
}

SPECIAL_VARS = {
    '0': 'EntityMeshXCoord',
    '1': 'EntityMeshYCoord',
    '2': 'EntityCoordInMeshX',
    '3': 'EntityCoordInMeshY',
    '4': 'EntityDirection',
    '6': 'LastFieldID',
    '8': 'PlayerEntityModelId',
    '9': 'CurrentEntityModelId',
    '10': 'WildChocoboType',
    '11': 'BattleResult',
    '13': 'PromptWindowResult',
    '16': 'Random8BitNumber',
}

MODELS = {
    '0': 'Cloud',
    '1': 'Tifa',
    '2': 'Cid',
    '3': 'Highwind',
    '4': 'WildChocobo',
    '5': 'TinyBronco',
    '6': 'Buggy',
    '7': 'JunonCannon',
    '8': 'CargoShip',
    '10': 'DiamondWeapon',
    '11': 'UltimaWeapon',
    '12': 'FortCondor',
    '13': 'Submarine',
    '14': 'GoldSaucer',
    '15': 'RocketTownRocket',
    '16': 'RocketTown',
    '17': 'SunkenGelnika',
    '18': 'UnderwaterReactor',
    '19': 'Chocobo',
    '20': 'MidgarCannon',
    '24': 'NorthCraterBarrier',
    '25': 'AncientForest',
    '26': 'KeyOfTheAncients',
    '28': 'RedSubmarine',
    '29': 'RubyWeapon',
    '30': 'EmeraldWeapon',
    '65535': 'System',
}

MODEL_OPCODES = [0x19, 0x204, 0x205, 0x206, 0x207, 0x208, 0x209, 0x20a, 0x20b, 0x20c, 0x20d,
                 0x20e, 0x20f, 0x210, 0x211, 0x212, 0x213, 0x214, 0x215, 0x216, 0x217, 0x218,
                 0x219, 0x21a, 0x21b, 0x21c, 0x21d, 0x21e, 0x21f, 0x220, 0x221, 0x222, 0x223,
                 0x300, 0x347]

FUNCTION_SYSTEM = 0x00
FUNCTION_MODEL  = 0x01
FUNCTION_MESH   = 0x02
